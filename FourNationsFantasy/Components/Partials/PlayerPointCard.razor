@inject Data.IFNFData FNFData
@inject IDialogService DialogService

@if (Player is not null)
{
    <MudPaper Class="pa-4 my-1" Elevation="3" @onclick="@ShowOverlay">
        <MudStack>
            <MudStack Row="true" AlignItems="AlignItems.Center">
                <MudAvatar Color="Color.Surface" Size="Size.Medium" Class="mr-3">
                    <MudImage Src="@Player.headshot" />
                </MudAvatar>
                <div>
                    <MudText Typo="Typo.h6">@Player.firstname @Player.lastname</MudText>
                    <MudText Typo="Typo.body2" Color="Color.Secondary">
                        @Player.position &nbsp;&nbsp;•&nbsp;&nbsp; @Player.nationality
                        <span>&nbsp;&nbsp;•&nbsp;&nbsp; @Player.goals G &nbsp; @Player.assists A &nbsp; @Player.Points Pts</span>
                    </MudText>
                </div>
            </MudStack>
        </MudStack>
    </MudPaper>
}


@code {
    
    [Parameter]
    public Data.FNFPlayer? Player { get; set; }

    private Task ShowOverlay()
    {
        var options = new DialogOptions { CloseOnEscapeKey = true };

        var parameters = new DialogParameters<PlayerDialog>
        {
            { x => x.PlayerInfo, Player }
        };

        return DialogService.ShowAsync<PlayerDialog>("Player", parameters, options);
    }

}