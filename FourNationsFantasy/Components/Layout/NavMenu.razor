@inject Data.CustomUserService CustomUserService
@inject NavigationManager Navigation

<MudNavMenu>

    <MudNavLink Href="" Match="NavLinkMatch.All" Icon="@Icons.Material.Filled.Dashboard">
        Home
    </MudNavLink>
    <MudNavLink Href="players" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.Person">
        Players
    </MudNavLink>
    <MudNavLink Href="draft" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.Assignment">
        Draft
    </MudNavLink>
    <MudNavLink Href="schedule" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.CalendarToday">
        Schedule
    </MudNavLink>

    <MudSpacer />

    <AuthorizeView>
        <Authorized>
            <MudNavLink Icon="@Icons.Material.Filled.Logout" IconColor="Color.Error" OnClick="@Logout">
                 Logout
            </MudNavLink>
        </Authorized>
    </AuthorizeView>
    
</MudNavMenu>

@code{
    private async Task Logout()
    {
        await CustomUserService.LogoutAsync();
        Navigation.NavigateTo("/", true);
    }


}