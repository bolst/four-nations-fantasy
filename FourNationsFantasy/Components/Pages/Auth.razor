@page "/auth"

@inject NavigationManager Navigation
@inject Data.CustomUserService CustomUserService

@code {
    
    [SupplyParameterFromQuery(Name = "email")]
    public string? Email { get; set; }
    
    [SupplyParameterFromQuery(Name = "token_hash")]
    public string? Token { get; set; }    

    protected override async Task OnInitializedAsync()
    {
        if (!string.IsNullOrEmpty(Email) && !string.IsNullOrEmpty(Token))
        {
            await CustomUserService.VerifyToken(Email, Token);
        }
    }

}